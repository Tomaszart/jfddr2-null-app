(this.webpackJsonppiwko=this.webpackJsonppiwko||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),r=c(32),i=c.n(r),a=(c(39),c(21)),j=c(6),l=(c(40),c(20));c(41),c(26),c(58);l.a.initializeApp({apiKey:"AIzaSyC7n089yKLBsASh9poL8I9xse6iIm2x46k",authDomain:"piwko-10443.firebaseapp.com",projectId:"piwko-10443",storageBucket:"piwko-10443.appspot.com",messagingSenderId:"406560500620",appId:"1:406560500620:web:87450c7e032b04e14084a9"});var o=l.a,d=c(9),b=(c(44),c(45),c(1)),u=function(){return Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("div",{className:"homeButton",children:Object(b.jsx)("svg",{fill:"white",width:"45",height:"45",viewBox:"0 0 25 25",children:Object(b.jsx)("path",{d:"M20 7.093v-5.093h-3v2.093l3 3zm4 5.907l-12-12-12 12h3v10h7v-5h4v5h7v-10h3zm-5 8h-3v-5h-8v5h-3v-10.26l7-6.912 7 6.99v10.182z"})})})})},h=c(17),O=function(e){var t=e.name,c=e.type,n=e.picture,s=(e.origin,e.brewery),r=e.id,i=e.beers.filter((function(e){return e.id===r}))[0].rating;var a,j=(a=i).reduce((function(e,t){return e+t}),0)/a.length;return Object(b.jsx)(d.b,{to:"/beers/".concat(r),children:Object(b.jsxs)("div",{className:"BeerTile",children:[Object(b.jsx)("h3",{className:"BeerTile__name",children:t}),Object(b.jsx)("h4",{className:"BeerTile__type",children:c}),Object(b.jsx)("img",{className:"BeerTile__img",src:n,alt:"Girl in a jacket",height:"160px"}),Object(b.jsxs)("div",{className:"BeerTile__rating",children:[Object(b.jsx)("div",{children:[1,2,3,4,5].map((function(e){return Object(b.jsx)(h.a,{name:"star",color:Math.round(j)>=e?"red":"grey",type:"solid",size:20},e)}))}),Object(b.jsxs)("p",{className:"BeerTile__rating--number",children:[Math.round(isNaN(j)?0:Math.round(j)),"/5"]})]}),Object(b.jsx)("h4",{className:"BeerTile__brewery",children:s})]})})},x=(c(51),function(e){var t=e.beers,c=e.search;return Object(b.jsxs)("main",{children:[Object(b.jsx)("p",{className:"TileContainer__p",children:"Odkryj dobre piwo"}),Object(b.jsx)("div",{className:"TileContainer__div",children:t&&t.filter((function(e){var t=e.name,n=e.brewery;return t.trim().toLowerCase().includes(c.trim().toLowerCase())||n.trim().toLowerCase().includes(c.trim().toLowerCase())})).map((function(e,c){return Object(b.jsx)(O,Object(a.a)(Object(a.a)({},e),{},{beers:t}),c)}))})]})}),m=(c(52),c(53),function(e){var t=e.setSearch;return Object(b.jsx)("div",{className:"searchbox",children:Object(b.jsx)("input",{type:"text",placeholder:"wyszukaj piwo...",onChange:function(e){t(e.target.value)}})})}),p=c(5),f=function(e){return e.isLoggedIn?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{className:"header__button",onClick:function(){o.auth().signOut()},children:"wyloguj mnie"})}):Object(b.jsx)(d.b,{to:"/login",children:Object(b.jsx)("button",{className:"header__button",children:"ZALOGUJ SI\u0118 ABY DODAWA\u0106 KOMENTARZE"})})},g=function(e){var t=e.setSearch,c=e.isLoggedIn;return Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("h1",{className:"header__logo",children:"PIWKO"})}),Object(b.jsx)(p.a,{exact:!0,path:"/",children:Object(b.jsx)(m,{setSearch:t})}),Object(b.jsx)(f,{isLoggedIn:c})]})},v=(c(54),c(30),function(e){var t=e.beers,c=e.id,n=[];return Object(b.jsx)("div",{className:"Comments-box",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("h3",{children:"Komentarze"}),(t.filter((function(e){return e.id===c}))[0].commentary.map((function(e){return n.push(e)})),n.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"commentary__container",children:[Object(b.jsx)("p",{className:"commentary__login",children:e.login}),Object(b.jsx)("p",{className:"commentary__text",children:e.text})]})},t)})))]})})}),N=c(34),_=(c(55),function(e){var t=e.id,c=e.token,s=e.fetchBeers,r=e.isLoggedIn,i=Object(n.useState)(""),a=Object(j.a)(i,2),l=a[0],u=a[1],O=Object(n.useState)(null),x=Object(j.a)(O,2),m=x[0],p=x[1];return r?Object(b.jsx)("div",{className:"Input_box",children:Object(b.jsxs)("form",{className:"Input_form",onSubmit:function(e){o.firestore().collection("Beers").doc(t).get().then((function(e){var n=e.data().rating;n.push(m),o.firestore().collection("Beers").doc(t).update({commentary:o.firestore.FieldValue.arrayUnion({login:c.email.split("@")[0],text:l}),rating:n}).then(s)})),e.preventDefault(),u(""),p(null)},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Oce\u0144 i skomentuj"}),Object(N.a)(Array(5)).map((function(e,t){var c=t+1;return Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"radio",name:"rating",value:c,onClick:function(e){return p(c)},required:!0}),Object(b.jsx)(h.a,{size:20,color:c<=m?"red":"grey"})]},t)})),Object(b.jsxs)("p",{className:"Rating_number",children:[m,"/5"]})]}),Object(b.jsx)("input",{type:"text",required:!0,value:l,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)("input",{id:"name",className:"Input_submit",type:"submit",value:"Dodaj"})]})}):Object(b.jsx)(d.b,{to:"/login",children:Object(b.jsx)("p",{className:"blueText",children:"ZALOGUJ SI\u0118 ABY DODAWA\u0106 KOMENTARZE"})})}),y=function(e){var t=e.beers,c=e.id,n=t.filter((function(e){return e.id===c}))[0].rating;var s,r=(s=n).reduce((function(e,t){return e+t}),0)/s.length;return Object(b.jsxs)("div",{className:"Rating_stars",children:[Object(b.jsx)("div",{children:[1,2,3,4,5].map((function(e){return Object(b.jsx)(h.a,{name:"star",color:Math.round(r)>=e?"red":"grey",type:"solid",size:20},e)}))}),Object(b.jsxs)("p",{className:"Rating_number",children:[Math.round(isNaN(r)?0:Math.round(r)),"/5"]})]})};var S=function(e){var t=e.beers,c=e.token,n=e.fetchBeers,s=e.isLoggedIn,r=Object(p.f)().id,i=t.find((function(e){return e.id===r}));return void 0===i?null:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"BeerCard-container",children:[Object(b.jsx)(u,{}),Object(b.jsxs)("div",{className:"BeerCard",children:[Object(b.jsx)("div",{className:"left",children:Object(b.jsxs)("div",{className:"BeerCard-box",children:[Object(b.jsx)("div",{className:"BeerCard-rating",children:Object(b.jsx)(y,{id:r,beers:t})}),Object(b.jsx)("img",{src:i.picture,alt:"Girl in a jacket",height:"400px"})]})}),Object(b.jsxs)("div",{className:"right",children:[Object(b.jsxs)("div",{className:"product_name",children:[Object(b.jsx)("h1",{children:i.name}),Object(b.jsx)("h2",{children:i.brewery})]}),Object(b.jsxs)("div",{className:"product_info",children:[Object(b.jsxs)("p",{className:"BeerCard_description",children:[Object(b.jsx)("strong",{children:"Informacje:"}),i.description]}),Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Rodzaj:"}),Object(b.jsx)("td",{children:i.type})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Alkohol%:"}),Object(b.jsx)("td",{children:i.alcohol})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pochodzenie:"}),Object(b.jsx)("td",{children:i.origin})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Ekstrakt:"}),Object(b.jsx)("td",{children:i.extract})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pojemno\u015b\u0107:"}),Object(b.jsx)("td",{children:i.volume})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Gorycz:"}),Object(b.jsx)("td",{children:i.bitterness})]})]})}),Object(b.jsxs)("p",{className:"BeerCard_description",children:[Object(b.jsx)("strong",{children:"Sk\u0142adniki:"}),i.ingredients]})]}),Object(b.jsx)(_,{id:r,token:c,fetchBeers:n,isLoggedIn:s})]}),Object(b.jsx)(v,{id:r,beers:t})]})]})})},k=(c(56),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),a=i[0],o=i[1],d=function(){l.a.firestore().collection("Beers").add({name:c,alcohol:a})};return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("form",{onSubmit:function(e){d(),e.preventDefault()},children:[Object(b.jsxs)("label",{children:["name:",Object(b.jsx)("input",{className:"adder__text",type:"text",value:c,onChange:function(e){s(e.target.value)}})]}),Object(b.jsxs)("label",{children:["alcohol:",Object(b.jsx)("input",{className:"adder__text",type:"text",value:a,onChange:function(e){o(e.target.value)}})]}),Object(b.jsx)("input",{type:"submit",value:"Wy\u015blij"}),Object(b.jsx)("button",{onClick:function(e){d(),e.preventDefault()},children:"kliknij"})]})})}),I=(c(31),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=(t[0],t[1],Object(n.useState)("")),s=Object(j.a)(c,2),r=(s[0],s[1],Object(n.useState)("")),i=Object(j.a)(r,2),a=i[0],l=i[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),x=O[0],m=O[1];return Object(b.jsxs)("div",{style:{margin:"40px"},children:[Object(b.jsx)(u,{}),Object(b.jsxs)("form",{className:"form",onSubmit:function(e){o.auth().signInWithEmailAndPassword(a,x).then((function(e){console.log("UID usera to "+e.user.uid+" Email usera to "+e.user.email)})),e.preventDefault()},children:[Object(b.jsxs)("label",{children:["email:",Object(b.jsx)("input",{className:"formInput",onChange:function(e){l(e.target.value)}})]}),Object(b.jsxs)("label",{children:["password:",Object(b.jsx)("input",{className:"formInput",onChange:function(e){m(e.target.value)}})]}),Object(b.jsx)("input",{className:"login__submit formInput ",type:"submit",value:"Zaloguj mnie"}),Object(b.jsx)(d.b,{to:"/signup",children:Object(b.jsx)("button",{className:"signForm__button2",children:"Nie masz konta? Zarejestruj si\u0119!"})})]})]})}),w=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),a=i[0],l=i[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),x=(O[0],O[1],Object(n.useState)("")),m=Object(j.a)(x,2);m[0],m[1];return Object(b.jsxs)("div",{style:{margin:"40px"},children:[Object(b.jsx)(u,{}),Object(b.jsxs)("form",{className:"form",onSubmit:function(e){o.auth().createUserWithEmailAndPassword(c,a).then((function(e){o.firestore().collection("Users").doc(e.user.uid).set({email:e.user.email})})),e.preventDefault()},children:[Object(b.jsxs)("label",{children:["email:",Object(b.jsx)("input",{className:"formInput",onChange:function(e){s(e.target.value)}})]}),Object(b.jsxs)("label",{children:["password:",Object(b.jsx)("input",{className:"formInput",onChange:function(e){l(e.target.value)}})]}),Object(b.jsx)("input",{className:"login__submit formInput",type:"submit",value:"Zarejestruj mnie"}),Object(b.jsx)(d.b,{to:"/login",children:Object(b.jsx)("button",{className:"signForm__button2",children:"Masz konto? Zaloguj si\u0119!"})})]})]})};var B=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(!1),h=Object(j.a)(u,2),O=h[0],m=h[1],f=Object(n.useState)(null),v=Object(j.a)(f,2),N=v[0],_=v[1];function y(){o.firestore().collection("Beers").get().then((function(e){var t=e.docs.map((function(e){return Object(a.a)({id:e.id},e.data())}));s(t)}))}return o.auth().onAuthStateChanged((function(e){null!==e?(m(!0),_(e)):m(!1)})),Object(n.useEffect)(y,[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(g,{setSearch:d,isLoggedIn:O}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{exact:!0,path:"/",children:Object(b.jsx)(x,{beers:c,search:l})}),Object(b.jsx)(p.a,{path:"/beers/:id",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(S,{beers:c,token:N,fetchBeers:y,isLoggedIn:O})})}),Object(b.jsx)(p.a,{path:"/login",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(I,{})})}),Object(b.jsx)(p.a,{path:"/signup",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(w,{})})}),Object(b.jsx)(p.a,{path:"/admin",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(k,{})})})]})]})};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(d.a,{basename:"/jfddr2-null-app",children:Object(b.jsx)(B,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b48e7d19.chunk.js.map